<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>陈睿谦的毕业感谢书</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&display=swap');

        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
            background: #fff9e6 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><circle cx="20" cy="20" r="3" fill="%23ffcc5c" opacity="0.3"/><circle cx="80" cy="30" r="4" fill="%23ffcc5c" opacity="0.3"/><circle cx="50" cy="70" r="2" fill="%23ffcc5c" opacity="0.3"/></svg>');
            font-family: 'Ma Shan Zheng', cursive, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .container {
            position: relative;
            width: 100%;
            height: 100%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
            z-index: 10;
        }

        /* 跳动的主标题 */
        .main-title {
            font-size: 3rem;
            color: #ff6b6b;
            text-align: center;
            margin-bottom: 1rem;
            text-shadow: 3px 3px 0 rgba(0,0,0,0.1);
            transform: scale(0.8);
            opacity: 0;
            animation:
                    titleIn 1s forwards 0.5s,
                    titleBounce 2s infinite 1.5s;
            position: relative;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="80" viewBox="0 0 400 80"><path d="M10,40 Q50,10 90,40 T170,40 T250,40 T330,40" fill="none" stroke="%23ffcc5c" stroke-width="8" stroke-linecap="round"/></svg>') bottom/contain no-repeat;
            padding-bottom: 20px;
        }

        /* 手写内容 - 带逐字动画 */
        .handwriting {
            width: 90%;
            max-width: 600px;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
            transform: rotate(-2deg) scale(0.9);
            opacity: 0;
            animation: contentIn 1.5s forwards 1s;
            border: 3px dashed #ffcc5c;
            font-size: 1.2rem;
            line-height: 1.8;
        }

        .handwriting p {
            margin: 1rem 0;
            position: relative;
            overflow: hidden;
        }

        .handwriting span {
            display: inline-block;
            transform-origin: bottom;
            animation:
                    letterBounce 0.8s cubic-bezier(0.5, 1.8, 0.8, 1.8) both,
                    colorChange 5s infinite alternate;
            opacity: 0;
        }

        /* 手绘装饰元素 */
        .drawing {
            position: absolute;
            width: 80px;
            height: 80px;
            background-size: contain;
            background-repeat: no-repeat;
            opacity: 0.8;
            z-index: -1;
        }

        .sun {
            top: 10%;
            right: 10%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="30" fill="%23ffde59"/><path d="M50,10 L50,0 M50,100 L50,90 M10,50 L0,50 M100,50 L90,50 M25,25 L15,15 M85,85 L75,75 M25,75 L15,85 M85,25 L75,15" stroke="%23ffde59" stroke-width="3"/></svg>');
            animation:
                    sunRotate 20s linear infinite,
                    sunPulse 3s infinite alternate;
        }

        .heart {
            bottom: 15%;
            left: 10%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50,30 Q30,10 10,30 Q-5,50 50,90 Q105,50 90,30 Q70,10 50,30" fill="%23ff6b6b"/></svg>');
            animation:
                    heartBeat 2s infinite,
                    heartFloat 5s ease-in-out infinite;
        }

        .star {
            top: 30%;
            left: 10%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50,0 L61,35 L98,35 L68,57 L79,92 L50,72 L21,92 L32,57 L2,35 L39,35 Z" fill="%234ecdc4"/></svg>');
            animation:
                    starTwinkle 3s infinite,
                    starRotate 10s linear infinite;
        }

        /* 小朋友签名 */
        .signature {
            text-align: right;
            margin-top: 2rem;
            font-size: 1.5rem;
            color: #ff6b6b;
            transform: rotate(-5deg);
            position: relative;
            animation:
                    signatureIn 1s forwards 3s,
                    signatureWiggle 3s infinite 4s;
        }

        .signature:before {
            content: '';
            position: absolute;
            width: 100px;
            height: 30px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 30"><path d="M10,15 Q25,5 40,15 T70,15 T100,15" fill="none" stroke="%23ffcc5c" stroke-width="2" stroke-dasharray="5,3"/></svg>') bottom/contain no-repeat;
            bottom: -10px;
            right: 0;
            animation: lineDraw 1s forwards 3.5s;
        }

        /* 动画效果 */
        @keyframes titleIn {
            0% { transform: scale(0.8) translateY(-50px); opacity: 0; }
            100% { transform: scale(1) translateY(0); opacity: 1; }
        }

        @keyframes titleBounce {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-10px) scale(1.05); }
        }

        @keyframes contentIn {
            0% { transform: rotate(-2deg) scale(0.9); opacity: 0; }
            100% { transform: rotate(0) scale(1); opacity: 1; }
        }

        @keyframes sunRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes sunPulse {
            0% { transform: scale(1); }
            100% { transform: scale(1.1); }
        }

        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        @keyframes heartFloat {
            0%, 100% { transform: translateY(0) translateX(0); }
            25% { transform: translateY(-10px) translateX(5px); }
            50% { transform: translateY(0) translateX(10px); }
            75% { transform: translateY(-10px) translateX(5px); }
        }

        @keyframes starTwinkle {
            0%, 100% { opacity: 0.8; transform: translateY(0); }
            50% { opacity: 1; transform: translateY(-10px); }
        }

        @keyframes starRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes letterBounce {
            0% { transform: translateY(30px) scale(0.5); opacity: 0; }
            100% { transform: translateY(0) scale(1); opacity: 1; }
        }

        @keyframes colorChange {
            0% { color: inherit; }
            100% { color: #ff9ff3; }
        }

        @keyframes signatureIn {
            0% { opacity: 0; transform: rotate(-5deg) translateX(50px); }
            100% { opacity: 1; transform: rotate(-5deg) translateX(0); }
        }

        @keyframes signatureWiggle {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(-8deg); }
        }

        @keyframes lineDraw {
            0% { width: 0; opacity: 0; }
            100% { width: 100px; opacity: 1; }
        }

        /* 漂浮的小元素 */
        .float-item {
            position: absolute;
            width: 40px;
            height: 40px;
            background-size: contain;
            background-repeat: no-repeat;
            z-index: 5;
            animation:
                    floatAround 15s linear infinite,
                    itemBounce 1s ease-in-out infinite alternate;
        }

        @keyframes floatAround {
            0% { transform: translate(0, 0) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translate(100px, -100vh) rotate(360deg); opacity: 0; }
        }

        @keyframes itemBounce {
            0% { transform: translateY(0); }
            100% { transform: translateY(-10px); }
        }

        /* 响应式调整 */
        @media (max-width: 600px) {
            .main-title {
                font-size: 2rem;
            }
            .handwriting {
                font-size: 1rem;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
<!-- 背景装饰元素 -->
<div class="drawing sun"></div>
<div class="drawing heart"></div>
<div class="drawing star"></div>

<!-- 漂浮的小元素 -->
<div class="float-item" style="left: 10%; top: 20%; animation-delay: 0s; background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="%23ff9e7d"/></svg>');"></div>
<div class="float-item" style="left: 20%; top: 30%; animation-delay: 3s; background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50,0 L61,35 L98,35 L68,57 L79,92 L50,72 L21,92 L32,57 L2,35 L39,35 Z" fill="%23fdcb6e"/></svg>');"></div>
<div class="float-item" style="left: 80%; top: 25%; animation-delay: 6s; background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="20" y="20" width="60" height="60" rx="10" fill="%2375daff"/></svg>');"></div>

<!-- 主内容 -->
<div class="container">
    <h1 class="main-title">陈睿谦的毕业感谢书</h1>

    <div class="handwriting">
        <p id="line1">亲爱的老师们：</p>
        <p id="line2">谢谢你们教我唱歌、跳舞、画画，还有好多好多有趣的事情！</p>
        <p id="line3">我最喜欢听老师讲故事了，也喜欢和老师一起做游戏。</p>
        <p id="line4">老师总是很温柔地帮助我，我永远都不会忘记！</p>

        <p id="line5">亲爱的小朋友们：</p>
        <p id="line6">谢谢你们和我一起玩耍、学习，每天都很开心！</p>
        <p id="line7">记得我们一起搭积木、滑滑梯、分享零食的日子吗？</p>
        <p id="line8">虽然要毕业了，但我们永远是好朋友！</p>

        <div class="signature">
            陈睿谦
        </div>

        <div style="text-align: center; margin-top: 20px; font-size: 0.9rem; color: #888;">
            <p>阳光幼儿园 大(3)班</p>
            <p>2023年6月</p>
        </div>
    </div>
</div>

<!-- 小朋友录制的音频 -->
<audio id="kidVoice" autoplay loop>
    <source src="./videos/crq.m4a" type="audio/mp4">
    <!-- 替换为陈睿谦小朋友的录音 -->
</audio>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const audio = document.getElementById('kidVoice');

        // 自动播放处理
        function playAudio() {
            // 先静音播放以绕过浏览器限制
            audio.muted = true;
            const playPromise = audio.play();

            if (playPromise !== undefined) {
                playPromise.then(() => {
                    // 播放成功后再取消静音
                    audio.muted = false;
                }).catch(error => {
                    // 如果静音播放也失败，显示提示
                    showPlayMessage();
                });
            }
        }

        // 显示播放提示
        function showPlayMessage() {
            const message = document.createElement('div');
            message.style.position = 'fixed';
            message.style.bottom = '20px';
            message.style.left = '0';
            message.style.right = '0';
            message.style.textAlign = 'center';
            message.style.backgroundColor = 'rgba(255,255,255,0.8)';
            message.style.padding = '10px';
            message.style.borderRadius = '20px';
            message.style.zIndex = '100';
            message.style.fontFamily = "'Ma Shan Zheng', cursive";
            message.style.color = '#ff6b6b';
            message.style.border = '2px dashed #ffcc5c';
            message.style.animation = 'titleBounce 1s infinite';
            message.innerHTML = '✨ 请允许播放音频以听陈睿谦的毕业感言 ✨';
            document.body.appendChild(message);

            // 点击后播放
            document.body.addEventListener('click', function playOnClick() {
                audio.play().then(() => {
                    document.body.removeEventListener('click', playOnClick);
                    message.style.animation = 'fadeOut 0.5s forwards';
                    setTimeout(() => message.remove(), 500);
                });
            });
        }

        // 尝试自动播放
        playAudio();

        // 文字逐字动画
        function animateText() {
            const lines = [
                'line1', 'line2', 'line3', 'line4',
                'line5', 'line6', 'line7', 'line8'
            ];

            lines.forEach((lineId, index) => {
                setTimeout(() => {
                    const line = document.getElementById(lineId);
                    const text = line.textContent;
                    line.innerHTML = '';

                    for (let i = 0; i < text.length; i++) {
                        const span = document.createElement('span');
                        span.textContent = text[i];
                        span.style.animationDelay = `${i * 0.05 + index * 0.3}s`;
                        line.appendChild(span);

                        // 为标点符号添加特殊动画
                        if (/[，。！？]/.test(text[i])) {
                            span.style.animation = 'letterBounce 0.8s cubic-bezier(0.5, 2.5, 0.8, 2.5) both';
                        }
                    }
                }, index * 300);
            });
        }

        // 延迟执行文字动画
        setTimeout(animateText, 1500);

        // 添加更多漂浮元素
        function createFloatingItems() {
            const colors = ['#ff7675', '#74b9ff', '#55efc4', '#ffeaa7', '#a29bfe'];
            const shapes = [
                'circle', 'square', 'triangle', 'star', 'heart'
            ];

            for (let i = 0; i < 15; i++) {
                const item = document.createElement('div');
                item.className = 'float-item';
                item.style.left = `${Math.random() * 100}%`;
                item.style.top = `${Math.random() * 100}%`;
                item.style.animationDelay = `${Math.random() * 15}s`;
                item.style.animationDuration = `${10 + Math.random() * 20}s`;

                const color = colors[Math.floor(Math.random() * colors.length)];
                const shape = shapes[Math.floor(Math.random() * shapes.length)];

                let svgPath = '';
                switch(shape) {
                    case 'circle':
                        svgPath = `<circle cx="50" cy="50" r="40" fill="${color}"/>`;
                        break;
                    case 'square':
                        svgPath = `<rect x="10" y="10" width="80" height="80" rx="5" fill="${color}"/>`;
                        break;
                    case 'triangle':
                        svgPath = `<polygon points="50,5 95,95 5,95" fill="${color}"/>`;
                        break;
                    case 'star':
                        svgPath = `<path d="M50,0 L61,35 L98,35 L68,57 L79,92 L50,72 L21,92 L32,57 L2,35 L39,35 Z" fill="${color}"/>`;
                        break;
                    case 'heart':
                        svgPath = `<path d="M50,30 Q30,10 10,30 Q-5,50 50,90 Q105,50 90,30 Q70,10 50,30" fill="${color}"/>`;
                        break;
                }

                item.style.backgroundImage = `url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">${svgPath}</svg>')`;

                document.body.appendChild(item);
            }
        }

        createFloatingItems();
    });
</script>
</body>
</html>